# Maintainer: Hoàng Văn Khải <hvksmr1996@gmail.com>

pkgname='gnome-shell-extension-github-notifications-pr52'
pkgdesc='GNOME GitHub Notifications extension with GNOME 43 patch'
_commit='5074d3713b436b56deb4a08392e3480195c7f35e'
pkgver='2022.10.12'
pkgrel='1'
arch=('any')
_repo='https://github.com/alexduf/gnome-github-notifications'
url='https://github.com/alexduf/gnome-github-notifications/pull/52'
license=('GPL-2.0')
conflicts=('gnome-shell-extension-github-notifications')
provides=('gnome-shell-extension-github-notifications')
optdepends=(
  'gnome-shell>=43'
  'gjs: GNOME Shell use GJS to run its extensions'
)
makedepends=(
  'coreutils'
  'sed'
)
source=(
  "$_repo/archive/$_commit.zip"
)
sha512sums=(
  'SKIP'
)
_uuid='github.notifications@alexandre.dufournet.gmail.com'

package() {
  cd "$srcdir/gnome-github-notifications-$_commit"
  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
  install -Dm644 README.md "$pkgdir/usr/share/doc/$pkgname/README.md"
  dest="$pkgdir/usr/share/gnome-shell/extensions/$_uuid"
  mkdir -p "$dest"
  cp -r . "$dest/"
}
