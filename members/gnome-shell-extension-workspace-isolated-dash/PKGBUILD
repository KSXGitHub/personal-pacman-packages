# Maintainer: Hoàng Văn Khải <hvksmr1996@gmail.com>

pkgname='gnome-shell-extension-workspace-isolated-dash'
pkgdesc='Isolate workspaces in Gnome Shell'
_commit='53c28b2fc224b142bfd676ae20786434990a8022'
pkgver='2022.04.01'
pkgrel='2'
arch=('any')
url='https://github.com/wakira/gnome-shell-extension-workspace-isolated-dash'
license=('GPL-2.0')
optdepends=(
  'gnome-shell>=3'
  'gjs: GNOME Shell use GJS to run its extensions'
)
makedepends=(
  'coreutils'
  'sed'
)
source=(
  "$url/archive/$_commit.zip"
)
sha512sums=(
  'SKIP'
)
_uuid='workspace-isolated-dash@wakira'

package() {
  cd "$srcdir/$pkgname-$_commit"
  install -Dm644 LICENSE "$pkgdir/usr/share/licenses/$pkgname/LICENSE"
  install -Dm644 README "$pkgdir/usr/share/doc/$pkgname/README"
  cd "$srcdir/$pkgname-$_commit/workspace-isolated-dash"
  dest="$pkgdir/usr/share/gnome-shell/extensions/$_uuid"
  mkdir -p "$dest"
  sed 's/n-yuki/wakira/gi' metadata.json >"$dest/metadata.json"
  install -Dm644 extension.js "$dest/extension.js"
}
